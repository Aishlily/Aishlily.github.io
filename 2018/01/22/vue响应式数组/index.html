<!DOCTYPE html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/love.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/love.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="笔记,JavaScript,vue," />










<meta name="description" content="vue官方文档对数组更新的描述包含如下内容:Vue包含一组观察数组的变异方法，它们会触发视图更新：  push() pop() shift() unshift() splice() sort() reverse()非变异方法：不会改变原始数组，返回新数组。如filter()、concat()、slice()注意事项以下数组的变动vue不能检测：   当你利用索引直接设置一个项时，如vm.items">
<meta name="keywords" content="笔记,JavaScript,vue">
<meta property="og:type" content="article">
<meta property="og:title" content="vue响应式--数组变异方法">
<meta property="og:url" content="/2018/01/22/vue响应式数组/index.html">
<meta property="og:site_name" content="Aishlily&#39;s Blog">
<meta property="og:description" content="vue官方文档对数组更新的描述包含如下内容:Vue包含一组观察数组的变异方法，它们会触发视图更新：  push() pop() shift() unshift() splice() sort() reverse()非变异方法：不会改变原始数组，返回新数组。如filter()、concat()、slice()注意事项以下数组的变动vue不能检测：   当你利用索引直接设置一个项时，如vm.items">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPgAAACmCAIAAAB4N9XbAAAXaklEQVR4Ae2dCZAUxbaGZZ4IDIMCgiwju8ATFAHhgiKL23NDlsEbouAKCBEoiCIiihqiDIqKC6Igj7heBRFkbqCELMKNGRZBQAaRRUCWCyKgl30YQHnD+5x8r7qmuru6srtrurr6VBAdWZknM0/++dfJkzV1kjKz1x4+77zzjvz74I7N+c/271qmTBluw12LFi1auXLl77//HlKgbNmy7du3v/XWW0OW2mQ+++yzr7zySiwC1N26dWvTpk1tGpGiVEbgfK3Bw/IXXnjBpgqlURDdpkEpEgTigkCaVivhbLnRyNmzZ4209xObNm0a+P/Xu+++e+bMmZ9//nnq1KkkvK98sIZTpkzpUny9/PLLp0+fDhaIJefYsWM0y28sjYSry0RgIo8fPx5OIDj/n8UX+dOnTycZLGDJ0bPolsox3n7yySdbtmxRjeC9kLj88sv79u0bY7Na1Tt16tSnTx+tKjEKM6nr16+Pb6fwb+TIkXfeeWdubi7q/av4SiJHDrezTp06a9euveGGG3ThNZCE8S1btmzevHnIFvQsesgmzJn2rrZZkrTBciM/OMcokoQNAitWrIDlt99+u5KpV69eErEcQ37q1Knrr79+586d7q2lMVl0VvkqVao0aNCgYcOGlStXtpmJcEWWB0PZ9XDCpZyPhVi6dCmd3n333VgavJoFCxbUrl177ty5V1xxxT333IO3c+DAAWNNYJJwHjZu3EiVIUOGYFpYUnEhduzYQSZVHnnkkZ9++umdd95BYN26dcOGDdu2bdtnn33GrdEI6SguLGJWVlZwRSz7iBEjDh48SNHbb7991VVXYftR+7rrrnvxxRfNmSwIWJkaNWq89tprPCfBFc2NG6WswOPGjbvooovMpbrpvXv31qpV69JLL6Xib7/9RgIkP/74YzZ7ljSPxBtvvAHmNWvWZCyKcsqQs0gyWVwKZ558C7AxER2WM2FcqKgYHwvpdQGKi7xCh6YsVFPwsSwq0Js0aYIMVOCRnjx5MqXQ5cknnyTzgw8+4BmoXr06c9OzZ8/HHnuM+fjoo49YiyldsmQJhIbiPAOwHPbzDCjXBTHcmPHjx1944YVIxnKdPHky2NBAR1ioiAu/s7OzkeHat28fDxhOzvfff//ll19i+9WC8P777ysdwlU0SnNychhg+fLlaQE+MbqolQde3nDA6XLlyoEtiinGBzeIJJ127twZo6MYT9oQUw6Mcl1CAhsT0aG1Yjn9HSm+MC3dunUDTUMDjycs/Fbasuc+fPiwMr0q55prrsFuYcA6dOhADhaIC4KCftWqVckhgWUaM2aMks/IyABu0nfccYeaOSiOZTV7kEwtAkweRFFpVTeK34oVKx49etRiWcnBn8E80yBFjJTnCv0zMzNZo8isX78+v2hOztChQ/nFTJITriJFqpQ1jUvd3nTTTSoR3S8mnIqYCX6xJqyZCuHg1hTUqhTkzSy3CIcENiai8wia+2DVgOWAbs5M0nSFChVGjx5tti6YbfuxVKtWDRtvNs/YJ5sqzAfmn2ZHjRrVunVrY1NlUyVcEZhDYsXpcDI2+fAbA8+aM3bsWFYAG0lVdO+998Zixc3tA9Ga4ktlYiCgvuK9WYw0hgNX3pIZ8jYksDFtRrHceCxGZ5dccok/WH7BBRdA9Ly8PGNoERPKivDeIKKkRYBniTdrLCCWfK3bW265hZUBR0LVIsHF7OCZ4IeQieuCk2ZeT4Lbh7sPPPAAD4x9RUrz8/NVs8GN6OawAcWg4A2qiwUQ2AET/JWZgPd79uyhWdgP0XH/SEP6iLNjAVbPosMAy0jwXvBZsOWwXL3OvPHGGy0yXr41fHT2N8rnVtreddddWDhesnNrKQo5HOYGlrBVUnsgtSUKKYnvPmvWLPqCWDNmzGBrhRiOe0hhh5nYcrRVG0qqGBZ30KBBaKUaYTOKGIwPbvOrr75Shhw/ZPjw4TjfNhVpxFzKZtd42xPcspMcs/3Ge8FYwGM8kwkTJgBmo0aNlAAIswUis6CgQG1GLY3joONtgrzxngABA9gyUX8CoF6Y4KPjV+HhYcvZeMF19goOuR78l//gHDWYcPnmoconAGY0JG1BQM+i/1fxZW4CN93wyx3y21zdU+8TzYpJ2mcI6BE9ePB4bFxGvhbXGzduvH37dqOuSoSkPpIWMbkVBLQQiJXoWp1ZhB988EFLTiy3SfS3wFiGKXWjQyCmty7RdSm1BIHSR0CIXvqYS48JQECIngDQpcvSRyCRPnrpjzZ5e5yxKllN0r3ti7wAu5XovI32glqigwWB6StDf2ZtEfPg7dVV/i/kILG6WYl+9dVXJ1Yh6T0kAnlJPC2eUD1ZF8SQbJBMQSAcAkL0cMhIvq8QsLouvhqcDKa0EPD+1k6IXlpc8Hs/Hv/LdGJcl++++87v8+7P8SXvxCWG6P5kgYzKwwhE6boQALZ8+XKiJFXgE8EEBJabA888PGRRLRUR0CZ6UVERJzAuXLiQBIClpaVBeq5vv/2WgC6+VycnFYGUMXsbAW2iw/L58+czKOKxOVIUK37o0CHCn77++muVL2cvenvGA9oRprl58+bAfXGqWbNmKoDQku/8lqNspk2btnv3blXlvvvu4wyCzz//vF+/fgTyLV68mEg/ovWcNxgXST3ri+XGlquOCVMlMhr7TUjfbbfdNnjwYNKUIhO7ZiC1YcOG2NuRFmwQ6NGjh2X55ZZMmyoOi+Dxo48+Shwq15VXXlm3bt0nnnjCfBqHehhU1LPDNmMU0yM6fjkeC7acI504pYRDfE6cOKE0IIiVk0MoRSZGnaR66SDAJLKzMvfFLZnmHN+k9YjO7pOR47FwIIni+sSJEw2u8+xSqmRiAQhzTpz1q6++yilWHFvDc0/YOceecCkzzwpIEQH8KtNYZGLpNDXrshSnp6ersZPg1g0cmEHm1Djglznl9scff4Q8nHlGjz/88AOnCXBNmjQJMeaXxJw5c55//vl4WX09H513LKxu+OX8wnUU5bQGflmnKlWqpM6sQiZGsB5++GFaaNOmTYsWLRgnZxhwxA/LH+N/6623CFFlEfz111/xnYBJZXKGFgIx9puC1RW5oRRjN5M+RiggK6ygEXyY/v37W1rj4AqmmKM+OF2DWYPl2C+cHMTw4PEI2rZty2lhHH3x0ksvWepGfatHdNxxXHB2nyRgNvw2uA7vOU0TPdQpHFErZKnIgG+++WZFYvjNYsIBiPxyjEyvXr0QNjKF6BboHN7irihv0+LGOKweUkz56MaM2FtlfGB14pJqSh2LhzmD7iEbjy5Tj+i8L4fovGNRa5yF62q3oQ7XjE4bqVX6CBgbUBKl37vqkbfS5jMcWaXjrone2HjogYM3icp4ow1cx5Zz4ub+/fvxuiiNo2GgfZ5sulMmgfGvWrUKL4V8XBfjsDUjM+7opEiDvFLkStRg2eytXr3aDXKbR6Rn0fHO+asQ78vxWHjHwu4TvxzSY8shOu1SGpe/j+KgsxnlkDGOFLv//vufeeYZpfTTTz/NgggouC7sQZEhX2WaRyVpjyOAb8M8wiIcFd4o4L0YJ+Xz3t3weeI4CuuRdFho+9Z5gWj+y6ghjC13/pdRvg2KJZQJonPUIGcXKmfJ0EESbiMQbuK8fx6gnkUHRwjN3z45ypEdjHzr4jaxpP14IaBNdNUx/knv3r3jpYS0Iwi4jUCURI9RrVj8FrrGY3nqqadi1EGqR4FAjBMXRY/xqpIYosdLe2nHOwh4PJpOiO4dqiSxJh6PowNZvffoSTwVonpqIyBET+35T5nRW12X4JP5UwYKGaifEbASXf5vCT/PdgqPTVyXFJ78VBq6ED2VZjuFxypET+HJT6WhC9FTabZTeKxC9BSe/FQauhA9lWY7hccqRC8x+adOnRo2bNjs2bNL5MpN8iNQGkTntDoV451AuFAANQwFOEGAoxSgtZEjCX8jYP2Dkb9HG3F0FSpUmDBhQkQxEUg6BFy06FhN4ko5wYuz9hQuyjEgh8vePaBUiXGmxZEjR6geXBcZrDJd8Iu/YUhivFVd1QWGnFvOGUQNEoYYbWZnZ5tzlCQ5hm50TWu0TyYdMSKLJuQnfLFS2MqvPQJuER2KQCMOZCJ0mqNqlBIcYXfttdeSs3Hjxm+++cbsS5i1pC6lHKqBJGfrcMIjpSHrbtq0iSO7cnNzu3fv3rx5cw6cgaMNGjQwd9GuXTtuOTgTNcwNUovgbnIQ4NwculCS48aNMyuDkkqMww5ycnIomjdvHqceUJHo7C5dugwYMMAsL2lvIuAW0bdt28Y3ypdddpkxbExyQUFBq1atyMFDgPHhzrUhRBwZuKssKOlwdQnnu/jii2GbOvWGs854QkaOHImhJar1iy++MHoPTlCra9eu5PNgBJcaOUSkqyNH3AhNN3qRhNsIeNFHV44y5OYkOsLOWRYyMzMdAsEpBhha8wPmsKJzMRjPs4QvRBVWCbXgOK8ukglBwC2LjqEltgonhEt5sdA3IyMjPz+fcZI5c+ZMexup6I7RxSFxWJdD/XAzlIMRjGa4BSRY0j4nLy9PeUHK7bEXllKPIOAW0bGpuC6cQ8QZk5wAr0aLOwu/8SvIx+vAJw6JgrGLRZJzkThqFDGHdXkwqEJFLvO+MysrCy/fkmnpHf8eAaw1F4lwW4jOnTurfS0yNmKWxuU2sQhoH2CUWHUT3jsOFZtsDg9T3hHPxq5duzjvOOGKiQL2CHjRR7fXOLGlOFF4R5xJptTo1q3b2LFjE6uS9O4EASG6E5RKyPy1+CqRJTeeR8AtH93zAxcFUwsBq0V3+/Te1EJXRusZBKxEl/NpPTM1okg8ERDXJZ5oSlueRUCI7tmpEcXiiYAQPZ5oSlueRUCI7tmpEcXiiYAQvQSa/OFTQulKIOKXm9IgOh+NJDw6AQXM367wOQ3hFNDaL/Mo44iAgPX1YgRxvxerTyb9PspUHJ+LFt34CFFC6VKRWR4bs1tE54tzCaXz2FyntDpuEV1C6VKaVt4bvBd9dOUoSyid99iSxBq5ZdEllC6JSeFH1d0iuoTS+ZEtSTwmCaXTmzwJpdPDyzPSXvTRPQNOCEUklC4EKMmQJUTXniUJpdOGzAMV3PLRPTA0UUEQCCBgtegSShfARlI+QsBKdAml89HkylACCIjrEsBCUj5GQIju48mVoQUQEKIHsJCUjxEQovt4cmVoAQSE6AEsSEkoXQk4fHRTGkSXUDofESZZh2J9vZis44iT3hJKFycgPdeMixZdQuk8N9sprJBbRJdQuhQmlReH7hbRJZTOi7Odwjp50UeXULoUJqRbQ3fLoksonVszJu1GhYBbRJdQuqimQyq5hYCE0ukhK6F0enh5RtqLPrpnwAmhiITShQAlGbKE6NqzJKF02pB5oIJbProHhiYqCAIBBKwWXULpAthIykcIWIkuoXQ+mlwZSgABcV0CWEjKxwgI0X08uTK0AAJC9AAWkvIxAkJ0H0+uDC2AgBA9gIWkfIyAHtHXrVt36NAhH8MhQ/MrAhpEP3PmzIYNG3Jycvbv3+9XOGRcfkVAg+jlypXr1atXenr63Llz9+zZExER/mvPRsUXtQg4Qp4oaf53T/7HWrKNzNmzZ0+aNIlbMiniq6mILYuAIKCLgAbRabpSpUpZWVlVqlSZN28eIaH2nY0YMWJH8UXiww8/VMK5ubmDBw8mu3fv3osXL1aZS5YsmTp1Kpm1atVi0bBvVkoFgSgQsP5lNIomwlXBVI8cOVKVDhw4UCW6du3Kp+qk+TTKqAjpeXi45ZEwMiUhCMQRAT2LfuLECXx0/BCDr+FUwd5/+umnCxcuxE7PmDEjnJjkCwKlg4AG0dmMzpkzp7CwsHv37nXr1o2oH0aagDp87pkzZ0YUFgFBwFUENFwXNqMtWrSoV68e9I2okxFKl5mZ2a9fv4MHD0asIgKCgHsISCide9hKyx5CQMN18ZDWooogoImAEF0TMBFPTgSE6Mk5b6K1JgJCdE3ARDw5ERCiJ+e8idaaCAjRNQET8eREQIienPMmWmsiIETXBEzEkxMBIXpyzptorYmANtELCgp2796t2UtkcT5e52v1cHJ8MDN69OiIHwaHqy75goAe0Y8ePbpmzZq9e/eePXs2InaTJ092+IkLLG/QoEG7du1oEzZ37NixYfHFh76qF4725HvJiRMnRgzLoIql7ulTRc8M2lunzPo1K05G1Nki8PaYA1Tk3z+m/xk44vzasfXMLS23Wury1Sdf86Pe448/HnEgzvsSSScIaBCdaFFiRvm0q23btuefH/lrsM2bN48bN0598GijCtSE5cbn6XwNtmzZsp07d/KV74oVKwxC8D0ZYR/79u2zaYqiXbt2UZHqqkEI16/Hrqz7qnbrXaVqtcg6mxtXD8becy1zf7x88bzjRw5FfraN6o2allu4vil1c5Y3Xr2sgIeNIj7n5CPnRYsWNWnShEfXEJZEKSDglOjY5vz8/IoVK7Zp06Z8+fKHDx9eunQpv/YqFhUVITZmzBh+SQcLY78JKcJaBxfl5eV16NDBIAQJiG4fmo3J/OWXX6CR0RqEm76wERSvXadsZt2yRr6TRNsOFYeOrulE0kbmm3+e+EvHjPIVAjgDY/Xq1W2qSJEbCAQmwI3WVZt8wo5dx7pj4y29YOEw1QabKTXWd7OZV7XIsY9V5THgYeA5tPSyYW1hRqU0M9ssAva382YdadKsXJWLNRYEzH/fW3fgutRtWK5nnz+Dp4yLNcfJ1/yGvCTigoBToteoUaNVq1YnT55cu3bt6dOnq1at2qlTJ35jUQK3hJAlmjU3otZ3fA8IYfjoSiAiRRTRzY+Nqrhn5xkIZ+7FeRo3/cC+PwYOv8R5FSR5Kj5Z0AjXha7N/n3wmqPVrAhHjYBTotMB8RatW7cmzoj9qJPNqKETBwcQ5E/8aLNmzYxMEjwwEN1JGAfCTiiCve/cubO5iz97OVUEUy+tf4ElP+Kt2sUilv1BnahXA0sv4dYci5jcxh0BDaLTd+XKldmJ1qlTx8lmFPm0tDQMP28G+SXtXHt895UrV5qNPUcG1K5dW8VQh2yH9QF3P/ixOVVYdPxYkXknqrwjy3JhaRPfo3/PXbjXFjedd6C8FHL4opOt8OrlJ1u0STcaD7fmGAKScAkBDfIpDTIyMurXr+9EG+w3VhxbjkUPKQ9r4S7/9a5RyntG9XKQ4wCmTZumzgugFGLNnz9/wIABhmRwInh9UO/4WlTb+MXMI13+cwtOSHCtcDl/n/TvvIUnhvT9l+UVYTh5c77xUvKFoT9PnFGPDbFRyg47eM0xSiXhIgKz1x7m35QFW55+c8bx48fPle61atWqoUOHslu16ZZ3Ow899ND27dttZChC4L333rOXUaVI9ujRI2KDIZuaNWtWRIVDViSTYT733HPR9RuuTcl3iIC2RY/vM8cfiTDqNocW4ZC8+eabo0aNMqx7OAV4bff666+zINj8hZW6LBo8NuPHj4/YoKUj5fDwaj87Ozt4v2sRttyqus2bN9+0aVOwc2URlls3EJDgaDdQlTY9h0CCLbrn8BCFfIqAEN2nEyvDKomA9a998t8vlsRH7nyCgJXo8t8v+mRiZRglERDXpSQecudTBIToPp1YGVZJBIToJfGQO58iIET36cTKsEoiIEQviYfc+RQBPaL/fdmZnw78j0+hkGH5GQENop84fW72qj8G/Xfhhj3CdT9zwpdj0yB6pfJlPnwkvWpGmcf+Vrhyu0aksC+Bk0ElFwIaRGdgNS9Km9y/Yr3qacOnFy7e+EdyDVW0TWUE9IieykjJ2JMaAesnAPaDOXCsaMjfCg8eO/d6n/RrGuvVtW9ZSgUBVxHQICub0QFTCk/9fu7dB9Nb1P0PV9WSxgWB+CKgQXQ2o39tX/baxudfVlNYHt9ZkNZcR0CD6Ohyf8dAnK/rqkkHgkD8EJDNaPywlJY8jIAQ3cOTI6rFDwEhevywlJY8jIAQ3cOTI6rFDwEhevywlJY8jIAQ3cOTI6rFD4H/BftYhnZtFz2uAAAAAElFTkSuQmCC">
<meta property="og:updated_time" content="2018-04-16T07:13:42.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="vue响应式--数组变异方法">
<meta name="twitter:description" content="vue官方文档对数组更新的描述包含如下内容:Vue包含一组观察数组的变异方法，它们会触发视图更新：  push() pop() shift() unshift() splice() sort() reverse()非变异方法：不会改变原始数组，返回新数组。如filter()、concat()、slice()注意事项以下数组的变动vue不能检测：   当你利用索引直接设置一个项时，如vm.items">
<meta name="twitter:image" content="data:image/png;base64,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">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '5.1.4',
    sidebar: {"position":"right","display":"always","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="/2018/01/22/vue响应式数组/"/>





  <title>vue响应式--数组变异方法 | Aishlily's Blog</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-right page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Aishlily's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="st-search-show-outputs">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <form class="site-search-form">
  <input type="text" id="st-search-input" class="st-search-input st-default-search-input" />
</form>

<script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
    (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
    e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

  _st('install', 'urw61T1LFFwLwttU72jp','2.0.0');
</script>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="/2018/01/22/vue响应式数组/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Aishlily">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/my.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Aishlily's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">vue响应式--数组变异方法</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-01-22T12:55:45+08:00">
                2018-01-22
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/vue/" itemprop="url" rel="index">
                    <span itemprop="name">vue</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p><a href="https://cn.vuejs.org/v2/guide/list.html#%E6%95%B0%E7%BB%84%E6%9B%B4%E6%96%B0%E6%A3%80%E6%B5%8B" target="_blank" rel="noopener">vue官方文档</a>对数组更新的描述包含如下内容:<br>Vue包含一组观察数组的变异方法，它们会触发视图更新：</p>
<ul>
<li><code>push()</code></li>
<li><code>pop()</code></li>
<li><code>shift()</code></li>
<li><code>unshift()</code></li>
<li><code>splice()</code></li>
<li><code>sort()</code></li>
<li><code>reverse()</code><br>非变异方法：不会改变原始数组，返回新数组。如<code>filter()</code>、<code>concat()</code>、<code>slice()</code><br><strong>注意事项</strong><br>以下数组的变动vue不能检测：</li>
</ul>
<ol>
<li>当你利用索引直接设置一个项时，如<code>vm.items[indexOfItem] = newValue</code></li>
<li>当你修改数组的长度时，如<code>vm.items.length = newLength</code></li>
</ol>
<p>可以采用改一下方式实现<code>vm.items[indexOfItem] = newValue</code>：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// Vue.set</span><br><span class="line">Vue.set(vm.items, indexOfItem, newValue)</span><br></pre></td></tr></table></figure></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// Array.prototype.splice</span><br><span class="line">vm.items.splice(indexOfItem, 1, newValue)</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">//vm.<span class="variable">$set</span> 实例方法，是全局方法 Vue.set 的一个别名</span><br><span class="line">vm.<span class="variable">$set</span>(vm.items, indexOfItem, newValue)</span><br></pre></td></tr></table></figure>
<p>可以使用<code>splice</code>修改数组的长度：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vm.items.splice(newLength)</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>题外内容：<strong>Vue 不能检测对象属性的添加或删除</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">var vm = new Vue(&#123;</span><br><span class="line">  data:&#123;</span><br><span class="line">    a: 1</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">//vm.a是响应式的</span><br><span class="line">vm.b = 2</span><br><span class="line">//vm.b不是响应式的</span><br></pre></td></tr></table></figure></p>
</blockquote>
<p>但是可以用<code>Vue.set(object, key, value)</code>方法或<code>vm.$set()</code>方法向嵌套对象添加响应式属性。<br>也可以使用<code>Object.assign()</code>或<code>_.extend()</code>方法添加响应式的属性：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">vm.userProfile = Object.assign(&#123;&#125;, vm.userProfile, &#123;</span><br><span class="line">  age: 27,</span><br><span class="line">  favoriteColor: <span class="string">'Vue Green'</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p>
<h2 id="为啥调用数组原生方法就可以响应"><a href="#为啥调用数组原生方法就可以响应" class="headerlink" title="为啥调用数组原生方法就可以响应"></a>为啥调用数组原生方法就可以响应</h2><p>为什么使用了这些数组的方法就就能让数据响应了呢？<br>先看看数组部分的源码吧。</p>
<p>简单的来讲，<code>def</code>的作用就是重新定义对象属性的<code>value</code>值。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">//array.js</span><br><span class="line">import &#123; def &#125; from <span class="string">'../util/index'</span></span><br><span class="line"></span><br><span class="line">const arrayProto = Array.prototype</span><br><span class="line"><span class="built_in">export</span> const arrayMethods = Object.create(arrayProto)</span><br><span class="line">//arrayMethods是对数组的原型对象的拷贝，</span><br><span class="line">//在之后会将该对象里的特定方法进行变异后替换正常的数组原型对象</span><br><span class="line">/**</span><br><span class="line"> * Intercept mutating methods and emit events</span><br><span class="line"> */</span><br><span class="line">[</span><br><span class="line">  <span class="string">'push'</span>,</span><br><span class="line">  <span class="string">'pop'</span>,</span><br><span class="line">  <span class="string">'shift'</span>,</span><br><span class="line">  <span class="string">'unshift'</span>,</span><br><span class="line">  <span class="string">'splice'</span>,</span><br><span class="line">  <span class="string">'sort'</span>,</span><br><span class="line">  <span class="string">'reverse'</span></span><br><span class="line">]</span><br><span class="line">.forEach(<span class="keyword">function</span> (method) &#123;</span><br><span class="line">  // cache original method</span><br><span class="line">  //将上面的方法保存到original中</span><br><span class="line">  const original = arrayProto[method]</span><br><span class="line">  def(arrayMethods, method, <span class="keyword">function</span> mutator (...args) &#123;</span><br><span class="line">    const result = original.apply(this, args)</span><br><span class="line">    const ob = this.__ob__</span><br><span class="line">    <span class="built_in">let</span> inserted</span><br><span class="line">    switch (method) &#123;</span><br><span class="line">      <span class="keyword">case</span> <span class="string">'push'</span>:</span><br><span class="line">      <span class="keyword">case</span> <span class="string">'unshift'</span>:</span><br><span class="line">        inserted = args</span><br><span class="line">        <span class="built_in">break</span></span><br><span class="line">      <span class="keyword">case</span> <span class="string">'splice'</span>:</span><br><span class="line">        inserted = args.slice(2)</span><br><span class="line">        <span class="built_in">break</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (inserted) ob.observeArray(inserted)</span><br><span class="line">    // notify change</span><br><span class="line">    ob.dep.notify()</span><br><span class="line">    <span class="built_in">return</span> result</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p>
<p>贴出def部分的代码<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * Define a property.</span><br><span class="line"> */</span><br><span class="line"><span class="built_in">export</span> <span class="keyword">function</span> def (obj: Object, key: string, val: any, enumerable?: boolean) &#123;</span><br><span class="line">  Object.defineProperty(obj, key, &#123;</span><br><span class="line">    value: val,</span><br><span class="line">    enumerable: !!enumerable,</span><br><span class="line">    writable: <span class="literal">true</span>,</span><br><span class="line">    configurable: <span class="literal">true</span></span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><code>array.js</code>是对数组的一些方法进行变异，我们以<code>push</code>方法来举个例子。</p>
<ol>
<li><p>首先就是要用<code>original = arrayProto[&#39;push&#39;]</code>来保存原生的push方法。</p>
</li>
<li><p>然后定义变异的方法，对于<code>def</code>函数，如果不深究的话，<code>def(arrayMethods,method,function(){})</code>，这个函数可以粗略的表示为<code>arrayMethods[method] = function mutator(){};</code><br>假设在之后调用<code>push</code>方法,实际上调用的是<code>mutator</code>方法，在<code>mutator</code>方法中，第一件事就是调用保存了原生<code>push</code>方法的<code>original</code>，先求出实际的值。<br>一堆文字看起来实在很抽象，那么写一段低配版的代码来表达源码的含义。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">const push = Array.prototype.push;</span><br><span class="line"></span><br><span class="line">Array.prototype.push = <span class="keyword">function</span> mutator (...arg)&#123;</span><br><span class="line">	const result = push.apply(this,arg);</span><br><span class="line">	doSomething();</span><br><span class="line">	<span class="built_in">return</span> result</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">doSomething</span></span>()&#123;</span><br><span class="line">	console.log(<span class="string">'do something'</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const arr = [];</span><br><span class="line">arr.push(1);</span><br><span class="line">arr.push(2);</span><br><span class="line">arr.push(3);</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>在控制台中查看结果为：<br><img src="data:image/png;base64,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" alt="name"><br>那么源码中的<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">const ob = this.__ob__</span><br><span class="line">    <span class="built_in">let</span> inserted</span><br><span class="line">    switch (method) &#123;</span><br><span class="line">      <span class="keyword">case</span> <span class="string">'push'</span>:</span><br><span class="line">      <span class="keyword">case</span> <span class="string">'unshift'</span>:</span><br><span class="line">        inserted = args</span><br><span class="line">        <span class="built_in">break</span></span><br><span class="line">      <span class="keyword">case</span> <span class="string">'splice'</span>:</span><br><span class="line">        inserted = args.slice(2)</span><br><span class="line">        <span class="built_in">break</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (inserted) ob.observeArray(inserted)</span><br><span class="line">    // notify change</span><br><span class="line">    ob.dep.notify()</span><br></pre></td></tr></table></figure></p>
<p>这段代码就是对应的doSomething()了</p>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/笔记/" rel="tag"># 笔记</a>
          
            <a href="/tags/JavaScript/" rel="tag"># JavaScript</a>
          
            <a href="/tags/vue/" rel="tag"># vue</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/01/22/vue源码阅读-事件机制/" rel="next" title="vue源码阅读-事件机制">
                <i class="fa fa-chevron-left"></i> vue源码阅读-事件机制
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2018/01/22/vue源码阅读-prop机制/" rel="prev" title="vue源码阅读-prop机制">
                vue源码阅读-prop机制 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/my.jpg"
                alt="Aishlily" />
            
              <p class="site-author-name" itemprop="name">Aishlily</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">60</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">14</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">17</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/Aishlily" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:mali_job@yeah.net" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#为啥调用数组原生方法就可以响应"><span class="nav-number">1.</span> <span class="nav-text">为啥调用数组原生方法就可以响应</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Aishlily</span>

  
</div>









        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  
  <script type="text/javascript" src="/js/src/exturl.js?v=5.1.4"></script>


</body>
</html>
<script type="text/javascript" src="/js/src/love.js"></script>>